[Rainmeter]
Update=20
AccurateText=1

[Variables]
GlobalVariables=#@#GlobalVariables.inc
@include=#GlobalVariables#
@include2=#UserSettings#

SchoolPlaceholder=School
UsernamePlaceholder=Username/Email
PasswordPlaceholder=Password

SchoolY=50
UsernameY=100
PasswordY=150

ContainerWidth=500
ContainerHeight=300
TextInputWidth=300
TextInputHeight=20
LabelPadding=5

[CurvedContainer]
Meter=Shape
Shape=Rectangle 0,0,#ContainerWidth#,(#BarHeight# + #ContainerHeight#),8 | StrokeWidth 0

[Bar]
Meter=Shape
DynamicVariables=1
Shape=Rectangle 0,0,#ContainerWidth#,#BarHeight# | StrokeWidth 0 | Extend Color
Color=Fill Color #PrimaryColor#
Container=CurvedContainer

[Title]
Meter=String
DynamicVariables=1
Text=Settings

X=5
Y=(#BarHeight# / 2)
StringAlign=LeftCenter
FontSize=((#BarHeight# / 2))
FontWeight=700

AntiAlias=1
FontColor=#FontColor#

[Container]
Meter=Shape
DynamicVariables=1
Shape=Rectangle 0,#BarHeight#,#ContainerWidth#,#ContainerHeight# | StrokeWidth 0 | Extend Color
Color=Fill Color #SecondaryColor#
Container=CurvedContainer

[ReturnButton]
Meter=Image
DynamicVariables=1
ImageName=#ReturnIcon#

LeftMouseUpAction=[!ActivateConfig "#CURRENTCONFIG#" "Timetable.ini"]

W=#BarHeight#
H=#BarHeight#
X=(#ContainerWidth# - (#BarHeight# * 1))

[SchoolLabel]
Meter=String
DynamicVariables=1
Text=#School#

X=((#ContainerWidth# / 2) - (#TextInputWidth# / 2))
Y=#SchoolY#
W=#TextInputWidth#
H=#TextInputHeight#
FontSize=12
Padding=#LabelPadding#,#LabelPadding#,#LabelPadding#,#LabelPadding#

FontColor=#FontColor#
SolidColor=#PrimaryColor#
ClipString=1
AntiAlias=1

LeftMouseUpAction=[!CommandMeasure SchoolInput "ExecuteBatch 1"]

[SchoolInput]
Measure=Plugin
DynamicVariables=1
Plugin=InputText
DefaultValue=#School#

X=([SchoolLabel:X] + #LabelPadding#)
Y=([SchoolLabel:Y] + 3)
W=[SchoolLabel:W]
H=[SchoolLabel:H]
FontSize=12

FontColor=#FontColor#
SolidColor=#PrimaryColor#
AntiAlias=1

FocusDismiss=0
Command1=[!CommandMeasure "SettingsScript" "UpdateSetting('School', '$UserInput$')"]

[UsernameLabel]
Meter=String
DynamicVariables=1
Text=#Username#

X=((#ContainerWidth# / 2) - (#TextInputWidth# / 2))
Y=#UsernameY#
W=#TextInputWidth#
H=#TextInputHeight#
FontSize=12
Padding=#LabelPadding#,#LabelPadding#,#LabelPadding#,#LabelPadding#

FontColor=#FontColor#
SolidColor=#PrimaryColor#
ClipString=1
AntiAlias=1

LeftMouseUpAction=[!CommandMeasure UsernameInput "ExecuteBatch 1"]

[UsernameInput]
Measure=Plugin
Plugin=InputText
DynamicVariables=1
DefaultValue=#Username#

X=([UsernameLabel:X] + #LabelPadding#)
Y=([UsernameLabel:Y] + 3)
W=[UsernameLabel:W]
H=[UsernameLabel:H]
FontSize=12

FontColor=#FontColor#
SolidColor=#PrimaryColor#
AntiAlias=1

FocusDismiss=0
Command1=[!CommandMeasure "SettingsScript" "UpdateSetting('Username', '$UserInput$')"]

[PasswordLabel]
Meter=String
DynamicVariables=1
Text=#Password#

X=((#ContainerWidth# / 2) - (#TextInputWidth# / 2))
Y=#PasswordY#
W=#TextInputWidth#
H=#TextInputHeight#
FontSize=12
Padding=#LabelPadding#,#LabelPadding#,#LabelPadding#,#LabelPadding#

FontColor=#FontColor#
SolidColor=#PrimaryColor#
ClipString=1
AntiAlias=1

LeftMouseUpAction=[!CommandMeasure PasswordInput "ExecuteBatch 1"]

[PasswordInput]
Measure=Plugin
Plugin=InputText
DynamicVariables=1
DefaultValue=#Password#

X=([PasswordLabel:X] + #LabelPadding#)
Y=([PasswordLabel:Y] + 3)
W=[PasswordLabel:W]
H=[PasswordLabel:H]
FontSize=12

FontColor=#FontColor#
SolidColor=#PrimaryColor#
AntiAlias=1

FocusDismiss=0
Command1=[!CommandMeasure "SettingsScript" "UpdateSetting('Password', '$UserInput$')"]

[SaveInstruction]
Meter=String
DynamicVariables=1
Text=Press Enter to save

AntiAlias=1

X=(#ContainerWidth# / 2)
Y=250
StringAlign=CenterCenter
FontSize=12
FontWeight=700

FontColor=#FontColor#

[DismissInstruction]
Meter=String
DynamicVariables=1
Text=Press Esc to dismiss

AntiAlias=1

X=(#ContainerWidth# / 2)
Y=275
StringAlign=CenterCenter
FontSize=12
FontWeight=700

FontColor=#FontColor#

[ThemeScript]
Measure=Script
ScriptFile=#ThemeScript#

[SettingsScript]
Measure=Script
ScriptFile=#SettingsScript#